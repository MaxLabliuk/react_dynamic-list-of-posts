(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(4),s=n.n(c),l=n(2),o=n.n(l),u=n(5),m=n(1),i=function(){return Promise.all([fetch("https://jsonplaceholder.typicode.com/posts"),fetch("https://jsonplaceholder.typicode.com/users"),fetch("https://jsonplaceholder.typicode.com/comments")]).then(function(e){return Promise.all(e.map(function(e){return e.json()}))})},p=(n(12),function(e){var t=e.user;return r.a.createElement("div",{className:"author"},r.a.createElement("p",{className:"user-name"},t.name),r.a.createElement("p",{className:"city"},t.address.city),r.a.createElement("a",{className:"link",href:"{user.email}"},t.email))}),f=function(e){var t=e.comment;return r.a.createElement("article",{className:"container"},r.a.createElement("p",{className:"comment"},t.body),r.a.createElement("div",{className:"comment-name"},r.a.createElement("span",{className:"li"},t.name),r.a.createElement("a",{className:"link",href:"{comment.email}"},t.email)))},d=function(e){var t=e.comments;return r.a.createElement("div",null,r.a.createElement("ul",null,t.map(function(e){return r.a.createElement(f,{comment:e,key:e.id})})))},E=function(e){var t=e.currentPost;return r.a.createElement("div",{className:"post"},r.a.createElement(p,{user:t.user}),r.a.createElement("h2",null,t.title),r.a.createElement("p",null,t.body),r.a.createElement(d,{comments:t.comments}))},h=function(e){var t=e.getPosts,n=Object(a.useState)([]),c=Object(m.a)(n,2),s=c[0],l=c[1],u=Object(a.useState)(!1),i=Object(m.a)(u,2),p=i[0],f=i[1],d=Object(a.useState)(!1),h=Object(m.a)(d,2),v=h[0],b=h[1],y=Object(a.useState)(!1),j=Object(m.a)(y,2),w=j[0],N=j[1],O=Object(a.useState)([]),g=Object(m.a)(O,2),k=g[0],x=g[1],P=function(e,t){var n;return function(){for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];clearTimeout(n),n=setTimeout(function(){return e.apply(void 0,r)},t)}}(function(e){var t=e.toLowerCase();l(k.filter(function(e){return(e.title+e.body).toLowerCase().includes(t)}))},1e3);return r.a.createElement("div",null,0===s.length&&!w&&r.a.createElement("button",{type:"button",className:"button",onClick:function(){var e,n;return o.a.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,b(!0),a.next=4,o.a.awrap(t());case 4:return e=a.sent,a.next=7,o.a.awrap(t());case 7:n=a.sent,x(n),l(e),f(!0),N(!1),b(!1),a.next=18;break;case 15:a.prev=15,a.t0=a.catch(0),N(!0);case 18:case"end":return a.stop()}},null,null,[[0,15]])}},"Load"),v&&!w&&r.a.createElement("p",null,"Loading..."),p&&!v&&r.a.createElement("div",null,r.a.createElement("p",null,"Posts \xa0",s.length),r.a.createElement("input",{className:"input",type:"search",placeholder:"Search posts",onChange:function(e){return P(e.target.value)}}),s.map(function(e){return r.a.createElement(E,{currentPost:e,key:e.id})})))};var v=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("h1",{className:"title"},"Dynamic list of posts"),r.a.createElement(h,{getPosts:function(){var e,t,n,a,r;return o.a.async(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,o.a.awrap(i());case 2:return e=c.sent,t=Object(m.a)(e,3),n=t[0],a=t[1],r=t[2],c.abrupt("return",n.map(function(e){return Object(u.a)({},e,{user:a.find(function(t){return t.id===e.userId}),comments:r.filter(function(t){return t.postId===e.id})})}));case 8:case"end":return c.stop()}})}}))};s.a.render(r.a.createElement(v,null),document.getElementById("root"))},6:function(e,t,n){e.exports=n(13)}},[[6,1,2]]]);
//# sourceMappingURL=main.2de0c1da.chunk.js.map