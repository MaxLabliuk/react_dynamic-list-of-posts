{"version":3,"sources":["apiFetch.js","User.js","Comment.js","CommentList.js","Post.js","PostList.js","App.js","index.js"],"names":["fetchPostsAndUsersAndComments","Promise","all","fetch","then","responses","map","response","json","User","_ref","user","react_default","a","createElement","className","name","address","city","href","email","Comment","comment","body","CommentList","comments","oneComment","src_Comment","key","id","Post","currentPost","src_User","title","src_CommentList","PostList","getPosts","_useState","useState","_useState2","Object","slicedToArray","posts","setPosts","_useState3","_useState4","loaded","setloaded","_useState5","_useState6","isLoading","setLoading","_useState7","_useState8","error","setError","_useState9","_useState10","visiblePosts","setVisiblePosts","debounceHandler","f","delay","timer","_len","arguments","length","args","Array","_key","clearTimeout","setTimeout","apply","debounce","value","searchQuery","toLowerCase","filter","_ref2","includes","type","onClick","gotPosts","regenerator_default","async","_context","prev","next","awrap","sent","t0","stop","placeholder","onChange","e","target","post","src_Post","App","src_PostList","users","abrupt","objectSpread2","find","userId","postId","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.62412dd6.chunk.js","sourcesContent":["const URL_POSTS = 'https://jsonplaceholder.typicode.com/posts';\nconst URL_USERS = 'https://jsonplaceholder.typicode.com/users';\nconst URL_COMMENTS = 'https://jsonplaceholder.typicode.com/comments';\n\nexport const fetchPostsAndUsersAndComments = () => Promise.all([\n  fetch(URL_POSTS),\n  fetch(URL_USERS),\n  fetch(URL_COMMENTS),\n]).then(responses => Promise.all(responses.map(response => response.json())));\n","import React from 'react';\nimport PropTypes, { string } from 'prop-types';\n\nconst User = ({ user }) => (\n  <div className=\"author\">\n    <p className=\"user-name\">{user.name}</p>\n    <p className=\"city\">{user.address.city}</p>\n    <a className=\"link\" href=\"{user.email}\">\n      {user.email}\n    </a>\n  </div>\n);\n\nUser.propTypes = {\n  user: PropTypes.shape({\n    name: string.isRequired,\n    address: string.isRequired,\n    email: string.isRequired,\n  }).isRequired,\n};\n\nexport default User;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Comment = ({ comment }) => (\n  <article className=\"container\">\n    <p className=\"comment\">{comment.body}</p>\n    <div className=\"comment-name\">\n      <span className=\"li\">{comment.name}</span>\n      <a className=\"link\" href=\"{comment.email}\">\n        {comment.email}\n      </a>\n    </div>\n  </article>\n);\n\nComment.propTypes = {\n  comment: PropTypes.shape({\n    body: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n    email: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default Comment;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Comment from './Comment';\n\nconst CommentList = ({ comments }) => (\n  <div>\n    <ul>\n      {comments.map(oneComment => (\n        <Comment comment={oneComment} key={oneComment.id} />\n      ))}\n    </ul>\n  </div>\n);\n\nCommentList.propTypes = {\n  comments: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.number.isRequired,\n  })).isRequired,\n};\n\nexport default CommentList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport User from './User';\nimport CommentList from './CommentList';\n\nconst Post = ({ currentPost }) => (\n  <div className=\"post\">\n    <User user={currentPost.user} />\n    <h2>{currentPost.title}</h2>\n    <p>{currentPost.body}</p>\n    <CommentList comments={currentPost.comments} />\n  </div>\n);\n\nPost.propTypes = {\n  currentPost: PropTypes.shape({\n    user: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    body: PropTypes.string.isRequired,\n    comments: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default Post;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Post from './Post';\n\nconst PostList = ({ getPosts }) => {\n  const [posts, setPosts] = useState([]);\n  const [loaded, setloaded] = useState(false);\n  const [isLoading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [visiblePosts, setVisiblePosts] = useState([]);\n\n  const loadPosts = async() => {\n    try {\n      setLoading(true);\n\n      const gotPosts = await getPosts();\n\n      setVisiblePosts(gotPosts);\n      setPosts(gotPosts);\n      setloaded(true);\n      setError(false);\n      setLoading(false);\n    } catch (e) {\n      setError(true);\n    }\n  };\n\n  const searchPosts = (value) => {\n    const searchQuery = value.toLowerCase();\n\n    setVisiblePosts(\n      posts.filter(({ title, body }) => (title + body)\n        .toLowerCase().includes(searchQuery))\n    );\n  };\n\n  const debounce = (f, delay) => {\n    let timer;\n\n    return (...args) => {\n      clearTimeout(timer);\n      timer = setTimeout(() => f(...args), delay);\n    };\n  };\n\n  const debounceHandler = debounce(searchPosts, 1000);\n\n  return (\n    <div>\n      {visiblePosts.length === 0 && !error && (\n        <button type=\"button\" className=\"button\" onClick={loadPosts}>\n          Load\n        </button>\n      )}\n      {isLoading && !error && <p>Loading...</p>}\n      {loaded && !isLoading && (\n        <div>\n          <p>\n            {visiblePosts.length === 1 ? 'Post' : 'Posts'}\n            &nbsp;\n            {visiblePosts.length}\n          </p>\n          <input\n            className=\"input\"\n            type=\"search\"\n            placeholder=\"Search posts\"\n            onChange={e => debounceHandler(e.target.value)}\n          />\n\n          {visiblePosts.map(post => (\n            <Post currentPost={post} key={post.id} />\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nPostList.propTypes = { getPosts: PropTypes.func.isRequired };\nexport default PostList;\n","import React from 'react';\nimport { fetchPostsAndUsersAndComments } from './apiFetch';\nimport './App.css';\nimport PostList from './PostList';\n\nfunction App() {\n  const postsWithUsers = async() => {\n    const [posts, users, comments] = await fetchPostsAndUsersAndComments();\n\n    return posts.map(post => ({\n      ...post,\n      user: users.find(user => user.id === post.userId),\n      comments: comments.filter(comment => comment.postId === post.id),\n    }));\n  };\n\n  return (\n    <div className=\"App\">\n      <h1 className=\"title\">Dynamic list of posts</h1>\n      <PostList getPosts={postsWithUsers} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}