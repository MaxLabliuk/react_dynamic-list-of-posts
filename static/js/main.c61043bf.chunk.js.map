{"version":3,"sources":["apiFetch.js","User.js","Comment.js","CommentList.js","Post.js","PostList.js","App.js","index.js"],"names":["fetchPostsAndUsersAndComments","Promise","all","fetch","then","responses","map","response","json","User","_ref","user","react_default","a","createElement","className","name","address","city","href","email","Comment","comment","body","CommentList","comments","oneComment","src_Comment","key","id","Post","currentPost","src_User","title","src_CommentList","PostList","getPosts","_useState","useState","_useState2","Object","slicedToArray","posts","setPosts","_useState3","_useState4","loaded","setloaded","_useState5","_useState6","isLoading","setLoading","_useState7","_useState8","error","setError","_useState9","_useState10","mutatedPosts","setMutatedPosts","debounceHandler","f","delay","timer","_len","arguments","length","args","Array","_key","clearTimeout","setTimeout","apply","debounce","value","searchQuery","toLowerCase","filter","_ref2","includes","type","onClick","gotPosts","notOriginalPosts","regenerator_default","async","_context","prev","next","awrap","sent","t0","stop","placeholder","onChange","e","target","post","src_Post","App","src_PostList","users","abrupt","objectSpread2","find","userId","postId","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.c61043bf.chunk.js","sourcesContent":["const URL_POSTS = 'https://jsonplaceholder.typicode.com/posts';\nconst URL_USERS = 'https://jsonplaceholder.typicode.com/users';\nconst URL_COMMENTS = 'https://jsonplaceholder.typicode.com/comments';\n\nexport const fetchPostsAndUsersAndComments = () => Promise.all([\n  fetch(URL_POSTS),\n  fetch(URL_USERS),\n  fetch(URL_COMMENTS),\n]).then(responses => Promise.all(responses.map(response => response.json())));\n","import React from 'react';\nimport PropTypes, { string } from 'prop-types';\n\nconst User = ({ user }) => (\n  <div className=\"author\">\n    <p className=\"user-name\">{user.name}</p>\n    <p className=\"city\">{user.address.city}</p>\n    <a className=\"link\" href=\"{user.email}\">\n      {user.email}\n    </a>\n  </div>\n);\n\nUser.propTypes = {\n  user: PropTypes.shape({\n    name: string.isRequired,\n    address: string.isRequired,\n    email: string.isRequired,\n  }).isRequired,\n};\n\nexport default User;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Comment = ({ comment }) => (\n  <article className=\"container\">\n    <p className=\"comment\">{comment.body}</p>\n    <div className=\"comment-name\">\n      <span className=\"li\">{comment.name}</span>\n      <a className=\"link\" href=\"{comment.email}\">\n        {comment.email}\n      </a>\n    </div>\n  </article>\n);\n\nComment.propTypes = {\n  comment: PropTypes.shape({\n    body: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n    email: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default Comment;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Comment from './Comment';\n\nconst CommentList = ({ comments }) => (\n  <div>\n    <ul>\n      {comments.map(oneComment => (\n        <Comment comment={oneComment} key={oneComment.id} />\n      ))}\n    </ul>\n  </div>\n);\n\nCommentList.propTypes = {\n  comments: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.number.isRequired,\n  })).isRequired,\n};\n\nexport default CommentList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport User from './User';\nimport CommentList from './CommentList';\n\nconst Post = ({ currentPost }) => (\n  <div className=\"post\">\n    <User user={currentPost.user} />\n    <h2>{currentPost.title}</h2>\n    <p>{currentPost.body}</p>\n    <CommentList comments={currentPost.comments} />\n  </div>\n);\n\nPost.propTypes = {\n  currentPost: PropTypes.shape({\n    user: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    body: PropTypes.string.isRequired,\n    comments: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default Post;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Post from './Post';\n\nconst PostList = ({ getPosts }) => {\n  const [posts, setPosts] = useState([]);\n  const [loaded, setloaded] = useState(false);\n  const [isLoading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [mutatedPosts, setMutatedPosts] = useState([]);\n\n  const loadPosts = async() => {\n    try {\n      setLoading(true);\n\n      const gotPosts = await getPosts();\n      const notOriginalPosts = await getPosts();\n\n      setMutatedPosts(notOriginalPosts);\n      setPosts(gotPosts);\n      setloaded(true);\n      setError(false);\n      setLoading(false);\n    } catch (e) {\n      setError(true);\n    }\n  };\n\n  const searchPosts = (value) => {\n    const searchQuery = value.toLowerCase();\n\n    setPosts(\n      mutatedPosts.filter(({ title, body }) => (title + body)\n        .toLowerCase().includes(searchQuery))\n    );\n  };\n\n  const debounce = (f, delay) => {\n    let timer;\n\n    return (...args) => {\n      clearTimeout(timer);\n      timer = setTimeout(() => f(...args), delay);\n    };\n  };\n\n  const debounceHandler = debounce(searchPosts, 1000);\n\n  return (\n    <div>\n      {posts.length === 0 && !error && (\n        <button type=\"button\" className=\"button\" onClick={loadPosts}>\n          Load\n        </button>\n      )}\n      {isLoading && !error && <p>Loading...</p>}\n      {loaded && !isLoading && (\n        <div>\n          <input\n            className=\"input\"\n            type=\"text\"\n            placeholder=\"Search posts\"\n            onChange={e => debounceHandler(e.target.value)}\n          />\n\n          {posts.map(post => (\n            <Post currentPost={post} key={post.id} />\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nPostList.propTypes = {\n  getPosts: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.number.isRequired,\n  })).isRequired,\n};\n\nexport default PostList;\n","import React from 'react';\nimport { fetchPostsAndUsersAndComments } from './apiFetch';\nimport './App.css';\nimport PostList from './PostList';\n\nfunction App() {\n  const postsWithUsers = async() => {\n    const [posts, users, comments] = await fetchPostsAndUsersAndComments();\n\n    return posts.map(post => ({\n      ...post,\n      user: users.find(user => user.id === post.userId),\n      comments: comments.filter(comment => comment.postId === post.id),\n    }));\n  };\n\n  return (\n    <div className=\"App\">\n      <h1 className=\"title\">Dynamic list of posts</h1>\n      <PostList getPosts={postsWithUsers} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}